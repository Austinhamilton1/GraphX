;;; Test of the error output of the VM.
;;; THIS CODE SHOULD RETURN -1

.code 
MOVI Racc, 65537    ; Loop counter (one past end of memory)
MOVI Rtmp1, 0        ; Memory pointer

loop:
    ; Write to all memory cells then try one out of bounds ;
    MOVI Rtmp2, 1
    STR Rtmp2, Rtmp1
    CMP Racc, Rzero
    BZ done
    ADDI Rtmp1, Rtmp1, 1
    SUBI Racc, Racc, 1
    JMP loop
done:
    HALT